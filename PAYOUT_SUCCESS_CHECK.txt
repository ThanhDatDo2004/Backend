✅ PAYOUT REQUEST - READY TO TEST
==================================

FRONTEND SHOWING:
=================
✓ Ngân Hàng: BIDV
✓ Số Tài Khoản: 08668457999
✓ Tối đa: 9.500đ

This means:
- GET /api/shops/me/bank-accounts is WORKING ✅
- Bank data is being displayed correctly ✅
- Shop has default bank account ✅

READY FOR:
===========
When user clicks "Gửi Đơn Rút Tiền", frontend will POST:
{
  "amount": 9500,
  "password": "user password",
  "note": "Rút tiền",
  // bank_id: optional (will use default if not sent)
}

EXPECTED RESPONSE:
===================
✅ 201 Created
{
  "success": true,
  "data": {
    "payoutID": 42,
    "amount": 9500,
    "status": "requested",
    "requestedAt": "2025-10-18T..."
  },
  "message": "Tạo yêu cầu rút tiền thành công"
}

WHAT HAPPENS BEHIND:
====================
1. ✅ Verify password (PasswordHash)
2. ✅ Get default bank account (IsDefault = 'Y' OR IsDefault = 1)
   → Will find ShopBankID: 14 (BIDV)
3. ✅ Check balance >= 9500
4. ✅ Create Payout_Requests
5. ✅ Deduct from wallet immediately
6. ✅ Send email to admin (kubjmisu1999@gmail.com)

TEST IT NOW:
============
1. Enter withdrawal amount
2. Enter password
3. Click "Gửi Đơn Rút Tiền"
4. Check response

SUCCESS SIGNS:
===============
✅ 201 Created response
✅ payoutID returned
✅ Email sent to admin
✅ Wallet balance updated

Let me know if you get 201 or still getting error! 🚀

