ðŸ“® POSTMAN TEST GUIDE
=====================

STEP 1: Import Collection
=========================
1. Open Postman
2. Click "Import" (top left)
3. Choose "File" tab
4. Select: POSTMAN_TEST_DATA.json
   Path: /Users/home/Downloads/tsNode-temp-master/POSTMAN_TEST_DATA.json

STEP 2: Set Variables
====================
Replace in ALL requests:
- YOUR_TOKEN_HERE â†’ Your actual JWT token
- YOUR_PASSWORD_HERE â†’ Your actual user password

WHERE TO GET TOKEN:
- Login to frontend
- Open DevTools > Application > Cookies/localStorage
- Copy the token value

STEP 3: Run Requests In Order
=============================

Request 1: Get Bank Accounts
  - Should show default bank (IsDefault: Y)
  - Note the ShopBankID (e.g., 14)

Request 2: Get Wallet
  - Shows current balance
  - Note the available amount

Request 3: Create Payout (WITHOUT bank_id)
  - Backend will auto-use DEFAULT account
  - Amount: 500 (should be <= balance)
  - Password: your actual password

Request 4: Create Payout (WITH bank_id)
  - Use bank_id from Request 1 result
  - Replace "14" with actual ShopBankID if different
  - Amount: 500
  - Password: your actual password

Request 5: List Payout Requests
  - Should show created requests

TEST DATA FOR REQUEST 3 & 4:
============================

Minimum test:
{
  "amount": 500,
  "password": "YOUR_PASSWORD"
}

With note:
{
  "amount": 500,
  "password": "YOUR_PASSWORD",
  "note": "Test withdrawal"
}

With bank_id (for Request 4):
{
  "amount": 500,
  "bank_id": 14,
  "password": "YOUR_PASSWORD",
  "note": "Test with specific bank"
}

EXPECTED RESPONSES:
===================

SUCCESS (201 Created):
{
  "success": true,
  "data": {
    "payoutID": 42,
    "shopCode": 2,
    "amount": 500,
    "status": "requested",
    "requestedAt": "2025-10-18T..."
  },
  "message": "Táº¡o yÃªu cáº§u rÃºt tiá»n thÃ nh cÃ´ng"
}

ERROR (401 Unauthorized):
{
  "success": false,
  "statusCode": 401,
  "error": {
    "message": "Máº­t kháº©u khÃ´ng chÃ­nh xÃ¡c"
  }
}

ERROR (400 Bad Request):
{
  "success": false,
  "statusCode": 400,
  "error": {
    "message": "Sá»‘ dÆ° khÃ´ng Ä‘á»§"
  }
}

ERROR (500 Server Error):
{
  "success": false,
  "statusCode": 500,
  "error": {
    "message": "KhÃ´ng tÃ¬m tháº¥y tÃ i khoáº£n ngÃ¢n hÃ ng..."
  }
}

WHAT TO CHECK IF ERROR:
=======================
1. Token valid? â†’ Get new token from login
2. Password correct? â†’ Check your password
3. Amount <= balance? â†’ From Request 2
4. Bank account exists? â†’ From Request 1
5. Server running? â†’ Check http://localhost:5050/api/health

IF ERROR: SHARE THESE INFO
==========================
1. Exact error message from Postman
2. Your request body (sanitize password)
3. Response from Request 1 (bank accounts)
4. Response from Request 2 (wallet balance)

THEN I CAN DEBUG! ðŸ”

