â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                  FIELD_QUANTITY SETUP - COMPLETE SUMMARY                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… CREATED RESOURCES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. SQL Schema
   ğŸ“„ FIELD_QUANTITY_SCHEMA.sql
      â”œâ”€ CREATE TABLE Field_Quantity (PascalCase)
      â”œâ”€ ALTER TABLE Bookings (add QuantityID)
      â”œâ”€ CREATE INDEXES
      â””â”€ Sample data + Useful queries

2. TypeScript Types
   ğŸ“„ backend/src/types/field-quantity.ts
      â”œâ”€ FieldQuantityRow
      â”œâ”€ CreateFieldQuantityRequest
      â”œâ”€ UpdateFieldQuantityRequest
      â”œâ”€ AvailableQuantity
      â”œâ”€ FieldQuantitySummary
      â””â”€ BookingWithQuantity

3. Documentation
   ğŸ“„ FIELD_QUANTITY_PASCALCASE_REFERENCE.md (Detailed)
   ğŸ“„ FIELD_QUANTITY_QUICK_REFERENCE.txt (Quick lookup)
   ğŸ“„ FIELD_QUANTITY_IMPLEMENTATION_GUIDE.md (Implementation steps)
   ğŸ“„ FIELD_QUANTITY_SUMMARY.txt (This file)


ğŸ—„ï¸ TABLE SCHEMA (PascalCase)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

CREATE TABLE Field_Quantity (
  QuantityID              INT AUTO_INCREMENT PRIMARY KEY,
  FieldCode              INT NOT NULL,
  QuantityNumber         INT NOT NULL,
  Status                 ENUM('available', 'maintenance', 'inactive'),
  CreatedAt              TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  UpdatedAt              TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE,
  
  FOREIGN KEY (FieldCode) REFERENCES Fields(FieldCode) ON DELETE CASCADE,
  UNIQUE KEY UniqueFieldQuantity (FieldCode, QuantityNumber)
);


ğŸ“Š COLUMN MAPPING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Database Column       Type           TypeScript Property    Description
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
QuantityID            INT (PK)       quantity_id            Unique court ID
FieldCode             INT (FK)       field_code             Field type
QuantityNumber        INT            quantity_number        Court # (1,2,3...)
Status                ENUM           status                 'available'|'maint'|'inactive'
CreatedAt             TIMESTAMP      created_at             Created time
UpdatedAt             TIMESTAMP      updated_at             Updated time


ğŸ”— RELATIONSHIPS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Fields â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Field_Quantity â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Bookings
  â†“ PK                      â†“ FK                        â†“ FK
FieldCode â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º FieldCode                    QuantityID
         (1 to Many)       (1 to Many)


ğŸ’¾ SQL TO RUN
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Step 1: Create Table
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
CREATE TABLE Field_Quantity (
  QuantityID INT AUTO_INCREMENT PRIMARY KEY,
  FieldCode INT NOT NULL,
  QuantityNumber INT NOT NULL,
  Status ENUM('available','maintenance','inactive') DEFAULT 'available',
  CreatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  UpdatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (FieldCode) REFERENCES Fields(FieldCode) ON DELETE CASCADE,
  UNIQUE KEY UniqueFieldQuantity (FieldCode, QuantityNumber)
);

Step 2: Add Indexes
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
CREATE INDEX IdxFieldCodeStatus ON Field_Quantity(FieldCode, Status);
CREATE INDEX IdxQuantityStatus ON Field_Quantity(QuantityNumber, Status);

Step 3: Update Bookings
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ALTER TABLE Bookings ADD COLUMN QuantityID INT;
ALTER TABLE Bookings ADD FOREIGN KEY (QuantityID) 
  REFERENCES Field_Quantity(QuantityID);
ALTER TABLE Bookings ADD INDEX IdxQuantityID (QuantityID);


ğŸ“ USAGE EXAMPLE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Create Field "Tennis" with 2 courts:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
INSERT INTO Fields (ShopCode, FieldName, SportType, DefaultPricePerHour)
  VALUES (1, 'Tennis', 'Tennis', 100);
â†’ Returns FieldCode = 30

INSERT INTO Field_Quantity (FieldCode, QuantityNumber, Status)
  VALUES (30, 1, 'available');  â†’ QuantityID = 15
INSERT INTO Field_Quantity (FieldCode, QuantityNumber, Status)
  VALUES (30, 2, 'available');  â†’ QuantityID = 16


Book Tennis Court 1:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
INSERT INTO Bookings (FieldCode, QuantityID, PlayDate, StartTime, EndTime)
  VALUES (30, 15, '2025-10-20', '08:00', '09:00');


Find Available Courts:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
SELECT fq.QuantityID, fq.QuantityNumber
FROM Field_Quantity fq
LEFT JOIN Bookings b ON fq.QuantityID = b.QuantityID
  AND b.PlayDate = '2025-10-20'
  AND b.StartTime < '09:00' AND b.EndTime > '08:00'
WHERE fq.FieldCode = 30
  AND fq.Status = 'available'
  AND b.BookingCode IS NULL;
â†’ Returns: QuantityID 16 (Court 2 available)


ğŸ¯ KEY FEATURES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… PascalCase Naming      - Matches Fields, Bookings table convention
âœ… Foreign Key Cascade    - Delete field â†’ auto delete quantities
âœ… Unique Constraint      - (FieldCode, QuantityNumber)
âœ… Status Tracking        - available, maintenance, inactive
âœ… Auto Timestamps        - CreatedAt, UpdatedAt auto-managed
âœ… Performance Indexes    - IdxFieldCodeStatus, IdxQuantityStatus
âœ… Flexible Scaling       - Any number of courts per field


ğŸ“Š COMPARISON: BEFORE vs AFTER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

BEFORE (Multiple Field rows):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Fields:
â”œâ”€ FieldCode=30: "Tennis Court 1" (pricing, images)
â”œâ”€ FieldCode=31: "Tennis Court 2" (pricing, images)
â”œâ”€ FieldCode=32: "Tennis Court 3" (pricing, images)
â””â”€ Lot of duplication!

AFTER (Single Field + Quantities):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Fields:
â””â”€ FieldCode=30: "Tennis" (pricing, images shared)

Field_Quantity:
â”œâ”€ QuantityID=15: Court 1
â”œâ”€ QuantityID=16: Court 2
â””â”€ QuantityID=17: Court 3
   
Benefits:
âœ… No duplication
âœ… Shared pricing + images
âœ… Easy to manage
âœ… Track each court separately


ğŸ—ï¸ IMPLEMENTATION PHASES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Phase 1: Database (15 min)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â–¡ Run SQL Step 1: Create Table
â–¡ Run SQL Step 2: Add Indexes
â–¡ Run SQL Step 3: Update Bookings
â–¡ Test with sample data

Phase 2: Backend API (4-6 hours)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â–¡ Create fieldQuantity.model.ts
â–¡ Create fieldQuantity.service.ts
â–¡ Create fieldQuantity.controller.ts
â–¡ Update Field creation endpoint (add quantity parameter)
â–¡ Create Get Available Quantities endpoint
â–¡ Update Bookings endpoint (use QuantityID)

Phase 3: Frontend (3-4 hours)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â–¡ Update Create Field form (add quantity input)
â–¡ Show court selection when booking
â–¡ Display "Court 1, Court 2, Court 3" instead of separate fields
â–¡ Show available courts in time selection

Phase 4: Testing (2-3 hours)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â–¡ Test creating field with quantity
â–¡ Test booking specific court
â–¡ Test availability checking
â–¡ Test multiple bookings


ğŸ“š DOCUMENTATION FILES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

File                                    Purpose
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
FIELD_QUANTITY_SCHEMA.sql               Raw SQL + Queries
backend/src/types/field-quantity.ts     TypeScript Interfaces
FIELD_QUANTITY_PASCALCASE_REFERENCE.md  Detailed Reference
FIELD_QUANTITY_QUICK_REFERENCE.txt      Quick Lookup Card
FIELD_QUANTITY_IMPLEMENTATION_GUIDE.md  Implementation Steps
FIELD_QUANTITY_SUMMARY.txt              This Summary


ğŸ¯ NEXT STEPS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Execute SQL (3 steps)
2. Copy TypeScript types to project
3. Create Model â†’ Service â†’ Controller
4. Update endpoints
5. Test database operations
6. Update frontend UI
7. End-to-end testing


âœ¨ STATUS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… Database Schema           Ready
âœ… TypeScript Types          Ready
âœ… Documentation            Complete
âœ… Implementation Guide      Ready

â³ Next: Backend Implementation (API Layer)


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Generated: October 20, 2025
Convention: PascalCase for database columns
Consistency: Matches existing Fields, Bookings tables
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
